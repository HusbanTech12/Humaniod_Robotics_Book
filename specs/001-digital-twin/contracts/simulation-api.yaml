# ROS 2 Service and Message Definitions for Digital Twin Simulation

# Service to load a humanoid robot model into simulation
service: LoadRobotModel
request:
  model_file_path: string  # Path to URDF/SDF file
  model_name: string       # Name to assign to the model in simulation
  initial_pose: Pose       # Initial position and orientation
response:
  success: bool            # Whether the model was loaded successfully
  model_id: string         # Unique identifier for the loaded model
  error_message: string    # Error description if success is false

# Service to configure sensors on a robot model
service: ConfigureSensors
request:
  model_id: string         # ID of the robot model
  sensors: array<SensorConfig>  # List of sensor configurations
response:
  success: bool            # Whether sensors were configured successfully
  configured_sensors: array<string>  # List of successfully configured sensor names
  error_message: string    # Error description if success is false

# Service to start physics simulation
service: StartSimulation
request:
  environment_config: EnvironmentConfig  # Configuration for the simulation environment
response:
  success: bool            # Whether simulation started successfully
  simulation_id: string    # Unique identifier for the simulation instance
  error_message: string    # Error description if success is false

# Service to pause/resume simulation
service: SetSimulationState
request:
  simulation_id: string    # ID of the simulation to control
  state: string            # "running" or "paused"
response:
  success: bool            # Whether state was changed successfully
  error_message: string    # Error description if success is false

# Message for sensor data publication
message: SensorData
header:
  stamp: Time              # Timestamp of the sensor reading
  frame_id: string         # Coordinate frame of the sensor
sensor_type: string        # Type of sensor (lidar, camera, imu, etc.)
sensor_name: string        # Name of the sensor
data: array<float>         # Raw sensor data
data_format: string        # Format of the data (depends on sensor type)

# Message for joint state publication
message: JointState
header:
  stamp: Time              # Timestamp of the joint state
  frame_id: string         # Coordinate frame
name: array<string>        # Joint names
position: array<float>     # Joint positions (radians or meters)
velocity: array<float>     # Joint velocities
effort: array<float>       # Joint efforts (torques)

# Message for control commands
message: ControlCommand
header:
  stamp: Time              # Timestamp of the command
  frame_id: string         # Coordinate frame
joint_name: string         # Name of the joint to control
command_type: string       # Type of command ("position", "velocity", "effort")
command_value: float       # Desired value for the command