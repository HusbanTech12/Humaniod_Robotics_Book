{
  "permissions": {
    "allow": [
      "Bash(git fetch --all --prune)",
      "Bash(.specify/scripts/bash/create-new-feature.sh --json --number 1 --short-name \"rag-chatbot-book\" \"/sp.specify\nProject: Integrated Retrieval-Augmented Generation (RAG) Chatbot for Published Book (Cohere-Powered)\nTechnical Architecture & Implementation Specifications\nInfrastructure & Credentials (Secure – Handle with Extreme Care)\nVector Database (Qdrant Cloud Free Tier):\n\nEndpoint: https://93db2543-e764-4df1-8365-f25f65dd9e5e.us-east4-0.gcp.cloud.qdrant.io\nCluster ID: 93db2543-e764-4df1-8365-f25f65dd9e5e\nAPI Key: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3MiOiJtIn0.UV8eLKPeJsr5WJB1KRKK1V8DS8nub1Td41clNGemrFI\nCollection um security and compatibility\nRequired Features:\n– Clean query input for full-book questions\n– Selected-text activation via browser highlight + contextual “Ask AI” trigger\n– Real-time streaming response display with clickable/highlighted citations\n– Mobile-first, fully responsive design\n– Client-side session management (localStorage only – no server PII)\n\nPrivacy & Security Implementation:\n\nSecrets Handling: All credentials stored exclusively server-side (never exposed to client)\nData Minimization: No persistent storage of queries, responses, or user identifiers\nTransport Security: Enforce HTTPS for all communications\nCompliance Alignment: Designed for GDPR/CCPA through absence of personal data collection\n\nPerformance & Optimization Targets:\n\nLatency Goal: ≤ 4 seconds p95 end-to-end under typical concurrent load\nOptimization Levers: Tuned top-k, optional reranking, batch operations, and efficient payload design\nMonitoring: Track key metrics (latency percentiles, Cohere token consumption, Qdrant query volume)\n\nDeployment Specifications:\n\nBackend Platform: Render, Railway, Fly.io, or equivalent (with secret management and auto-deploy)\nWidget Hosting: Static CDN (Vercel, Netlify, Cloudflare Pages) for global low-latency delivery\nIngestion Execution: One-time secure administrative script post-book publication\n\nValidation & Testing Requirements:\n\nTest Corpus: Minimum 100+ curated queries (balanced full-book vs. selected-text) with ground-truth expectations\nAutomated Validation: Citation presence, contextual isolation, accuracy scoring, latency profiling\nSecurity Audit: Dependency vulnerability scan, secret exposure check, input sanitization review\n\nThis specification fully realizes the principles, standards, and constraints defined in /sp.constitution, providing precise, actionable technical direction while incorporating the provided infrastructure credentials for immediate implementation.\")",
      "Bash(git checkout -b 001-rag-chatbot-book)",
      "Bash(.specify/scripts/bash/setup-plan.sh --json)",
      "Bash(.specify/scripts/bash/check-prerequisites.sh --json)",
      "Bash(.specify/scripts/bash/check-prerequisites.sh --json --require-tasks --include-tasks)",
      "Bash(git rev-parse --git-dir)"
    ]
  }
}
